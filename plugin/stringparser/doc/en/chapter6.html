<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <title>StringParser_BBCode class documentation</title>
  <meta name="author" content="Christian Seiler">
  <link rel="stylesheet" href="../css/print.css"  type="text/css" media="print">
  <link rel="stylesheet" href="../css/screen.css" type="text/css" media="screen, projection">
</head>
<body id="doku">
<div id="container">
<h1><span><code>StringParser_<abbr title="Bulletin Board Code">BBCode</abbr></code> class</span> documentation</h1>
 <ul id="mainmenu">
  <li><a href="http://www.christian-seiler.de/projekte/php/bbcode/index_en.html">Project homepage</a></li>
  <li><a href="chapter1.html">Documentation</a></li>
  <li><a href="../phpdoc/index.html">PHPDOC Documentation</a></li>
  <li><a href="http://www.christian-seiler.de/projekte/php/bbcode/download_en.html">Download</a></li>
  <li><a href="../de/kapitel6.html">Diese Seite auf Deutsch</a></li>
 </ul>
<ul id="menu">
  <li><a href="chapter1.html">1. Introduction</a>
    <ul>
      <li><a href="chapter1.html#general">1.1 General</a></li>
      <li><a href="chapter1.html#nesting">1.2 Nesting</a></li>
      <li><a href="chapter1.html#special">1.3 Special codes</a></li>
    </ul></li>
  <li><a href="chapter2.html">2. Defining own <abbr>BBCode</abbr></a>
    <ul>
      <li><a href="chapter2.html#including">2.1 Including the class</a></li>
      <li><a href="chapter2.html#first">2.2 The first code</a></li>
      <li><a href="chapter2.html#processing_types">2.3 Processing types</a></li>
      <li><a href="chapter2.html#parsing">2.4 Parsing text</a></li>
    </ul></li>
  <li><a href="chapter3.html">3. Parser functions</a>
    <ul>
      <li><a href="chapter3.html#task">3.1 Task of parser functions</a></li>
      <li><a href="chapter3.html#content_types">3.2 Relevance of content types</a></li>
      <li><a href="chapter3.html#registration">3.3 Registration of parser functions</a></li>
    </ul></li>
  <li><a href="chapter4.html">4. Callback functions</a>
    <ul>
      <li><a href="chapter4.html#processing_types">4.1 Processing types that need callback functions</a></li>
      <li><a href="chapter4.html#prototype">4.2 Prototype of a callback function</a></li>
      <li><a href="chapter4.html#example">4.3 Example for a callback function that replaces links</a></li>
      <li><a href="chapter4.html#revalidation">4.4 Revalidation on close tag occurrence</a></li>
    </ul></li>
  <li><a href="chapter5.html">5. Filters</a>
    <ul>
      <li><a href="chapter5.html#types">5.1 Filter types</a></li>
      <li><a href="chapter5.html#defining">5.2 Defining filters</a></li>
    </ul></li>
  <li><a href="chapter6.html">6. Flags to control the behaviour of the class</a>
    <ul>
      <li><a href="chapter6.html#general">6.1 General</a></li>
      <li><a href="chapter6.html#flags">6.2 List of all flags</a></li>
      <li><a href="chapter6.html#global">6.2 Global flags</a></li>
    </ul></li>
  <li><a href="chapter7.html">7. Limiting the amount of occurrences</a>
    <ul>
      <li><a href="chapter7.html#grouping">7.1 Grouping codes</a></li>
      <li><a href="chapter7.html#limits">7.2 Setting limits</a></li>
    </ul></li>
  <li><a href="chapter8.html">8. Paragraph handling</a>
    <ul>
      <li><a href="chapter8.html#general">8.1 General</a></li>
      <li><a href="chapter8.html#activating">8.2 Activating paragraph handling</a></li>
      <li><a href="chapter8.html#further">8.3 Further possibilities</a></li>
    </ul></li>
  <li><a href="chapter9.html">9. Examples</a>
    <ul>
      <li><a href="chapter9.html#example">9.1 Simple example</a></li>
<!--      <li><a href="chapter9.html#complex">9.2 More complex example</a></li> -->
    </ul></li>
  <li><a href="chapter10.html">10. Miscellaneous</a>
    <ul>
      <li><a href="chapter10.html#faq">10.1 Frequently asked questions</a></li>
      <li><a href="chapter10.html#internals">10.2 Useful internals</a></li>
    </ul></li>
</ul>
<div id="content"><h2>6. Flags to control the behaviour of the class</h2>
<h3 id="general"><a name="general">6.1 General</a></h3>
<p>One may set flags for each defined code. A flag tells the class that there are certain particularities with this code that are to be accounted for. To set a flag for a code, one must call the <code>setCodeFlag</code> method:</p>
<p class="php"><code>$bbcode->setCodeFlag ('b', 'my_flag', 'my_value');</code></p>
<p>This method has the following prototype:</p>
<p class="php"><code>void setCodeFlag (string $code, string $name, mixed $value);</code></p>
<dl>
  <dt><code>$code</code></dt>
  <dd>Specifies the name of the code for which a flag is to be set..</dd>
  <dt><code>$name</code></dt>
  <dd>Specifies the name of the flag that is to be set. <strong>Notice:</strong> If a flag has already been set and the method is called a second time the former value will be overwritten. Secondly it will not be checked if the flag itself is valid, having the consequence that you may set <em>arbitrary</em> flags - but only certain <a href="#flags">flags that are listed below</a> a special meaning for the class - all others will be ignored.</dd>
  <dt><code>$value</code></dt>
  <dd>The value of the flag that is to be set.</dd>
</dl>
<h3 id="flags"><a name="flags">6.2 List of all flags</a></h3>
<p>The following table shows a list of all flags that are recognized by the class. <strong>Notice:</strong> Most of the values for the flags are constants. These are <strong>not</strong> to be put in quotes. In case this had to be the case this would be marked explicitly!</p>
<table width="100%">
  <colgroup>
    <col width="1*">
    <col width="1*">
    <col width="4*">
  </colgroup>
  <thead>
    <tr>
      <th>Name of the flag</th>
      <th>Value</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th><code>'case_sensitive'</code></th>
      <td><code>true</code> / <code>false</code></td>
      <td>Specifies whether the code should be treated case sensitive or not. Default is <code>true</code> meaning that case sensitivity is active (e.g. <code>[b]</code> is not equal <code>[B]</code>). Please also have a look at the <code>caseSensitive</code> global flag.</td>
    </tr>
    <tr>
      <th rowspan="6"><code>'closetag'</code></th>
      <td colspan="2">Specifies how to treat with the end tag. This flag and its behaviour is everything else than trivial so it is wise to experiment a bit with all values to see what they do exactly.</td>
    </tr>
    <tr>
      <td><code>BBCODE_CLOSETAG_FORBIDDEN</code></td>
      <td>The end tag is forbidden, it may not show up in the text. If it does show up it will be ignored and appended as if it were normal text and the element will not be closed at that position. The rest of the behaviour is identical to <code>BBCODE_CLOSETAG_OPTIONAL</code>.</td>
    </tr>
    <tr>
      <td><code>BBCODE_CLOSETAG_OPTIONAL</code></td>
      <td>The end tag is optional. If it does show up it closes the element normally. If the parent element is closed the current element is also closed. If a new start tag of the same code shows up this element is also closed before a new element is opened. This is useful for e.g. lists which could look like:<br><code>[list]<br>[*] Item<br>[*] Item<br>[/list]</code><br>The first list item will be closed before the second list item is opened. And the second list item will be closed when the list is closed. This can be achieved by setting the <code>'closetag'</code> flag of the <code>[*]</code> code to this value (<code>BBCODE_CLOSETAG_OPTIONAL</code>) or alternatively to <code>BBCODE_CLOSETAG_FORBIDDEN</code>.</td>
    </tr>
    <tr>
      <td><code>BBCODE_CLOSETAG_IMPLICIT</code><br>(standard setting)</td>
      <td>The end tag is only optional if the parent element is closed. Example:<br><code>[b]this is [i]a text[/b]</code><br>If the <code>[i]</code> code posseses the flag <code>'closetag'</code> with this value it will be closed when the <code>[/b]</code> occurs. Another example:<br><code>[list]<br>[*] [b]Item<br>[*] Item<br>[/list]</code><br>Here the <code>[b]</code> element will be closed when the second <code>[*]</code> tag is found because the <em>parent element</em> (starting with the first <code>[*]</code> tag) is closed.</td>
    </tr>
    <tr>
      <td><code>BBCODE_CLOSETAG_IMPLICIT_ON_CLOSE_ONLY</code></td>
      <td>This just behaves like <code>BBCODE_CLOSETAG_IMPLICIT</code> with the only difference that in case of<br><code>[list]<br>[*] [b]Item<br>[*] Item<br>[/list]</code><br>the <code>[b]</code> element is <em>not</em> closed because the parent element would only be closed because another element of the same type would be opened. Because the <code>[b]</code> element is not closed consequently the first <code>[*]</code> element will also not be closed and therefore the second <code>[*]</code> tag will be ignored because it is not allowed inside <code>[b]</code>.</td>
    </tr>
    <tr>
      <td><code>BBCODE_CLOSETAG_MUSTEXIST</code></td>
      <td>The end tag must exist. If it does not exist the start tag will be ignored and appended as text. An element of this type can also not be closed by the parent element.</td>
    </tr>
    <tr>
      <th rowspan="1"><code>'opentag.before.newline'</code></th>
      <td colspan="2">Specifies how a possibly existing newline character (<code>\n</code>) that shows up <em>before</em> the start tag has to be treated. To the possible values see below.</td>
    </tr>
    <tr>
      <th rowspan="1"><code>'opentag.after.newline'</code></th>
      <td colspan="2">Specifies how a possibly existing newline character (<code>\n</code>) that shows up <em>after</em> the start tag has to be treated. To the possible values see below.</td>
    </tr>
    <tr>
      <th rowspan="1"><code>'closetag.before.newline'</code></th>
      <td colspan="2">Specifies how a possibly existing newline character (<code>\n</code>) that shows up <em>before</em> the end tag has to be treated. To the possible values see below.</td>
    </tr>
    <tr>
      <th rowspan="1"><code>'closetag.after.newline'</code></th>
      <td colspan="2">Specifies how a possibly existing newline character (<code>\n</code>) that shows up <em>after</em> the end tag has to be treated. To the possible values see below.</td>
    </tr>
    <tr>
      <th rowspan="3">Possible values for the four flags above</th>
      <td><code>BBCODE_NEWLINE_PARSE</code><br>(default setting)</td>
      <td>The newline character will per processed normally as any other character.</td>
    </tr>
    <tr>
      <td><code>BBCODE_NEWLINE_IGNORE</code></td>
      <td>The newline character will not be processed by parser functions but will be appended to the output.</td>
    </tr>
    <tr>
      <td><code>BBCODE_NEWLINE_DROP</code></td>
      <td>The newline character will be removed completely from the output.</td>
    </tr>
    <tr>
      <th rowspan="1"><code>'paragraph_type'</code></th>
      <td colspan="2" rowspan="2">Flags that are necessary for paragraph handling. Have a look at the chapter <a href="chapter8.html">Paragraph handling</a>.</td>
    </tr>
    <tr>
      <th rowspan="1"><code>'paragraphs'</code></th>
    </tr>
    <tr>
      <th rowspan="1"><code>'occurrence_type'</code></th>
      <td colspan="2">An internal flag that is used by the method <code>setOccurrenceType</code>. It should never be necessary to set or read this flag manually. Have a look at <code>setOccurrenceType</code> in the chapter <a href="chapter7.html">Limiting the amount of occurrences</a>.</td>
    </tr>
  </tbody>
</table>
<h3 id="global"><a name="global">6.3 Global flags</a></h3>
<p>There also exist several global flags. These are flags that are not set for a single code but that are set for the whole class.</p>
<dl>
  <dt><code>caseSensitive</code></dt>
  <dd>
    <p>This controls whether the whole class behaves case sensitive. You can alter the flag with the method <code>setGlobalCaseSensitive</code>. You may retreive the current value with the <code>globalCaseSensitive</code> method. If <code>true</code> (default) the class assumes all codes are case sensitive which do <strong>not</strong> have the code flag <code>'case_sensitive'</code> set to <code>false</code>. When set to <code>false</code> the class assumes <strong>all</strong> codes are case insensitive; the <code>'case_sensitive'</code> code flag is <strong>ignored</strong> in that case. Example:<p>
    <p><code>$bbcode->setGlobalCaseSensitive (false);</code></p>
  </dd>
  <dt><code>mixedAttributeTypes</code></dt>
  <dd>
    <p>If this flag is activated, <code>[code=foo attr=bar]</code> will have two attributes (<code>default</code> = <code>'foo'</code>, <code>attr</code> = <code>'bar'</code>), if the flag is deactivated, the same string will have only one attribute (<code>default</code> = <code>foo attr=bar</code>). The default value is off. You may retreive the current value with the <code>mixedAttributeTypes</code> method. Example:<p>
    <p><code>$bbcode->setMixedAttributeTypes (true);</code></p>
  </dd>
</dl>
<hr>
<ul>
  <li>Next: <a href="chapter7.html">7. Limiting the amount of occurrences</a></li>
  <li>Previous: <a href="chapter5.html">5. Filters</a></li>
</ul>
</div>
<p id="footer">This is the documentation for the <code>StringParser_BBCode</code> class version <em>0.3.3</em><br>
Author: Christian Seiler, <a href="mailto:webmaster@christian-seiler.de">webmaster@christian-seiler.de</a></p>
</div>
</body>
</html>
